{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 300,
  "height": 200,
  "data": { "url": "./NYC Accidents 2020.csv" },
  "mark": "area",
  "params": [
    {
      "name": "industry",
      "select": { "type": "point", "fields": ["BOROUGH"] },
      "bind": "legend"
    }
  ],
  "encoding": {
    "x": {
      "timeUnit": "yearmonth",
      "field": "CRASH DATE",
      "axis": { "domain": false, "format": "%Y", "tickSize": 0 }
    },
    "y": {
      "aggregate": "sum",
      "field": "NUMBER OF PERSONS INJURED",
      "stack": "center",
      "axis": null
    },
    "color": {
      "field": "BOROUGH",
      "scale": { "scheme": "category20b" }
    },
    "opacity": {
      "condition": { "param": "industry", "value": 1 },
      "value": 0.2
    }
  }
}
